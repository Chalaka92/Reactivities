(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{399:function(e,t,a){e.exports=a(704)},407:function(e,t,a){},704:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return tn}));var n=a(0),r=a.n(n),i=a(32),o=a.n(i),c=a(89),l=a(54),u=(a(404),a(405),a(406),a(407),a(713)),s=a(389),m=a(728),d=a(390),b=a(145),p=a(20),f=a(26),h=a(41),g=a(19),v=a.n(g),E=a(28),y=a(388),O=a(11),j=a(118),w=a(10),C=(a(105),a(7)),S=a(67),x=a.n(S),k=a(33);x.a.defaults.baseURL="/api",x.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),x.a.interceptors.response.use(void 0,(function(e){"Network Error"!==e.message||e.response||k.b.error("Network error - make sure API is running!");var t=e.response,a=t.status,n=t.data,r=t.config,i=t.headers;throw 404===a&&tn.push("/notfound"),401===a&&'Bearer error="invalid_token", error_description="The token is expired"'===i["www-authenticate"]&&(window.localStorage.removeItem("jwt"),tn.push("/"),k.b.info("Your session has expired, please login again")),400===a&&"get"===r.method&&n.errors.hasOwnProperty("id")&&tn.push("/notfound"),500===a&&k.b.error("Server error - check the terminal for more info!"),e.response}));var P,z,A,I,M,R,G,T,D,F,L,N,H,U,B,q,V,W,J,Y,_,K,$,Q,X,Z,ee,te,ae,ne,re,ie,oe,ce,le,ue,se,me,de,be,pe,fe,he,ge,ve,Ee,ye,Oe,je,we,Ce,Se,xe,ke,Pe,ze,Ae,Ie,Me,Re,Ge,Te,De,Fe,Le,Ne,He,Ue,Be,qe,Ve,We,Je,Ye,_e=function(e){return e.data},Ke=function(e){return x.a.get(e).then(_e)},$e=function(e,t){return x.a.post(e,t).then(_e)},Qe=function(e,t){return x.a.put(e,t).then(_e)},Xe=function(e){return x.a.delete(e).then(_e)},Ze=function(e,t,a){var n=new FormData;return n.append("File",t),n.append("Model",JSON.stringify(a)),x.a.post(e,n,{headers:{"Content-type":"multipart/form-data"}}).then(_e)},et={list:function(e){return x.a.get("/activities",{params:e}).then(_e)},details:function(e){return Ke("/activities/".concat(e))},create:function(e){return $e("/activities",e)},update:function(e){return Qe("/activities/".concat(e.id),e)},delete:function(e){return Xe("/activities/".concat(e))},attend:function(e){return $e("/activities/".concat(e,"/attend"),{})},unattend:function(e){return Xe("/activities/".concat(e,"/attend"))}},tt={current:function(){return Ke("/user")},login:function(e){return $e("/user/login",e)},register:function(e){return $e("/user/register",e)}},at={get:function(e){return Ke("/profiles/".concat(e))},uploadPhoto:function(e){return Ze("/photos",e,null)},setMainPhoto:function(e){return $e("/photos/".concat(e,"/setMain"),{})},deletePhoto:function(e){return Xe("/photos/".concat(e))},updateProfile:function(e){return Qe("/profiles",e)},follow:function(e){return $e("/profiles/".concat(e,"/follow"),{})},unfollow:function(e){return Xe("/profiles/".concat(e,"/follow"))},listFollowings:function(e,t){return Ke("/profiles/".concat(e,"/follow?predicate=").concat(t))},listActivities:function(e,t){return Ke("/profiles/".concat(e,"/activities?predicate=").concat(t))}},nt={list:function(){return Ke("/categories")},create:function(e){return Ze("/categories",e.file,e.model)}},rt=function(e,t){return e.date=new Date(e.date),e.isGoing=!!e.attendees&&e.attendees.some((function(e){return e.username===t.username})),e.isHost=!!e.attendees&&e.attendees.some((function(e){return e.username===t.username&&e.isHost})),e},it=function(e){return{displayName:e.displayName,isHost:!1,username:e.username,image:e.image}},ot=a(240),ct=(P=C.f.ref,z=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"activityRegistry",A,this),Object(O.a)(this,"activity",I,this),Object(O.a)(this,"loadingInitial",M,this),Object(O.a)(this,"submitting",R,this),Object(O.a)(this,"target",G,this),Object(O.a)(this,"loading",T,this),Object(O.a)(this,"hubConnection",D,this),Object(O.a)(this,"activityCount",F,this),Object(O.a)(this,"page",L,this),Object(O.a)(this,"predicate",N,this),Object(O.a)(this,"setPredicate",H,this),Object(O.a)(this,"setPage",U,this),Object(O.a)(this,"createHubConnection",B,this),Object(O.a)(this,"stopHubConnection",q,this),Object(O.a)(this,"addComment",V,this),Object(O.a)(this,"loadActivities",W,this),Object(O.a)(this,"loadActivity",J,this),Object(O.a)(this,"clearActivity",Y,this),this.getActivity=function(e){return a.activityRegistry.get(e)},Object(O.a)(this,"createActivity",_,this),Object(O.a)(this,"editActivity",K,this),Object(O.a)(this,"deleteActivity",$,this),Object(O.a)(this,"attendActivity",Q,this),Object(O.a)(this,"cancelAttendance",X,this),this.rootStore=t,Object(C.g)((function(){return a.predicate.keys()}),(function(){a.page=0,a.activityRegistry.clear(),a.loadActivities()}))}return Object(j.a)(e,[{key:"groupActivitiesByDate",value:function(e){var t=e.sort((function(e,t){return e.date.getTime()-t.date.getTime()}));return Object.entries(t.reduce((function(e,t){var a=t.date.toISOString().split("T")[0];return e[a]=e[a]?[].concat(Object(y.a)(e[a]),[t]):[t],e}),{}))}},{key:"axiosParams",get:function(){var e=new URLSearchParams;return e.append("limit",String(2)),e.append("offset","".concat(this.page?2*this.page:0)),this.predicate.forEach((function(t,a){"startDate"===a?e.append(a,t.toISOString()):e.append(a,t)})),e}},{key:"totalPages",get:function(){return Math.ceil(this.activityCount/2)}},{key:"activitiesByDate",get:function(){return this.groupActivitiesByDate(Array.from(this.activityRegistry.values()))}}]),e}(),A=Object(w.a)(z.prototype,"activityRegistry",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),I=Object(w.a)(z.prototype,"activity",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=Object(w.a)(z.prototype,"loadingInitial",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=Object(w.a)(z.prototype,"submitting",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(w.a)(z.prototype,"target",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=Object(w.a)(z.prototype,"loading",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Object(w.a)(z.prototype,"hubConnection",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=Object(w.a)(z.prototype,"activityCount",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=Object(w.a)(z.prototype,"page",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=Object(w.a)(z.prototype,"predicate",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),H=Object(w.a)(z.prototype,"setPredicate",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.predicate.clear(),"all"!==t&&e.predicate.set(t,a)}}}),Object(w.a)(z.prototype,"axiosParams",[C.c],Object.getOwnPropertyDescriptor(z.prototype,"axiosParams"),z.prototype),Object(w.a)(z.prototype,"totalPages",[C.c],Object.getOwnPropertyDescriptor(z.prototype,"totalPages"),z.prototype),U=Object(w.a)(z.prototype,"setPage",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.page=t}}}),B=Object(w.a)(z.prototype,"createHubConnection",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.hubConnection=(new ot.a).withUrl("/chat",{accessTokenFactory:function(){return e.rootStore.commonStore.token}}).configureLogging(ot.b.Information).build(),e.hubConnection.start().then((function(){return console.log(e.hubConnection.state)})).catch((function(e){return console.log("Error establishing connection: ",e)})),e.hubConnection.on("ReceiveComment",(function(t){Object(C.h)((function(){e.activity.comments.push(t)}))}))}}}),q=Object(w.a)(z.prototype,"stopHubConnection",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.hubConnection.stop()}}}),V=Object(w.a)(z.prototype,"addComment",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.activityId=e.activity.id,t.prev=1,t.next=4,e.hubConnection.invoke("SendComment",a);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}}),Object(w.a)(z.prototype,"activitiesByDate",[C.c],Object.getOwnPropertyDescriptor(z.prototype,"activitiesByDate"),z.prototype),W=Object(w.a)(z.prototype,"loadActivities",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(E.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingInitial=!0,t.prev=1,t.next=4,et.list(e.axiosParams);case 4:a=t.sent,n=a.activities,r=a.activityCount,console.log(n),Object(C.h)("loading activities",(function(){n.forEach((function(t){t.date=new Date(t.date),rt(t,e.rootStore.userStore.user),e.activityRegistry.set(t.id,t)})),e.activityCount=r,e.loadingInitial=!1})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),Object(C.h)("load activities error",(function(){e.loadingInitial=!1}));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))}}),J=Object(w.a)(z.prototype,"loadActivity",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getActivity(a))){t.next=6;break}return e.activity=n,t.abrupt("return",Object(C.j)(n));case 6:return e.loadingInitial=!0,t.prev=7,t.next=10,et.details(a);case 10:return n=t.sent,Object(C.h)("getting activity",(function(){rt(n,e.rootStore.userStore.user),e.activity=n,e.activityRegistry.set(n.id,n),e.loadingInitial=!1})),t.abrupt("return",n);case 15:t.prev=15,t.t0=t.catch(7),Object(C.h)("get activity error",(function(){e.loadingInitial=!1}));case 18:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}()}}),Y=Object(w.a)(z.prototype,"clearActivity",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.activity=null}}}),_=Object(w.a)(z.prototype,"createActivity",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,et.create(a);case 4:(n=it(e.rootStore.userStore.user)).isHost=!0,(r=[]).push(n),a.attendees=r,a.comments=[],a.isHost=!0,Object(C.h)("creating activity",(function(){e.activityRegistry.set(a.id,a),e.submitting=!1})),tn.push("/activities/".concat(a.id)),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(1),Object(C.h)("create activity error",(function(){e.submitting=!1})),k.b.error("Problem submitting data"),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}}),K=Object(w.a)(z.prototype,"editActivity",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,et.update(a);case 4:Object(C.h)("editing activity",(function(){e.activityRegistry.set(a.id,a),e.activity=a,e.submitting=!1})),tn.push("/activities/".concat(a.id)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),Object(C.h)("edit activity error",(function(){e.submitting=!1})),k.b.error("Problem submitting data"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),$=Object(w.a)(z.prototype,"deleteActivity",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,e.target=a.currentTarget.name,t.prev=2,t.next=5,et.delete(n);case 5:Object(C.h)("deleting activity",(function(){e.activityRegistry.delete(n),e.submitting=!1,e.target=""})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(C.h)("delete activity error",(function(){e.submitting=!1,e.target=""})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),Q=Object(w.a)(z.prototype,"attendActivity",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(E.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=it(e.rootStore.userStore.user),e.loading=!0,t.prev=2,t.next=5,et.attend(e.activity.id);case 5:Object(C.h)((function(){e.activity&&(e.activity.attendees.push(a),e.activity.isGoing=!0,e.activityRegistry.set(e.activity.id,e.activity),e.loading=!1)})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(C.h)((function(){e.loading=!1})),k.b.error("Problem signing up to activity");case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))}}),X=Object(w.a)(z.prototype,"cancelAttendance",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,et.unattend(e.activity.id);case 4:Object(C.h)((function(){e.activity&&(e.activity.attendees=e.activity.attendees.filter((function(t){return t.username!==e.rootStore.userStore.user.username})),e.activity.isGoing=!1,e.activityRegistry.set(e.activity.id,e.activity),e.loading=!1)})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),Object(C.h)((function(){e.loading=!1})),k.b.error("Problem cancelling attendance");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))}}),z),lt=(Z=function(){function e(t){Object(h.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"user",ee,this),Object(O.a)(this,"login",te,this),Object(O.a)(this,"register",ae,this),Object(O.a)(this,"getUser",ne,this),Object(O.a)(this,"logout",re,this),this.rootStore=t}return Object(j.a)(e,[{key:"isLoggedIn",get:function(){return this.user}}]),e}(),ee=Object(w.a)(Z.prototype,"user",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(w.a)(Z.prototype,"isLoggedIn",[C.c],Object.getOwnPropertyDescriptor(Z.prototype,"isLoggedIn"),Z.prototype),te=Object(w.a)(Z.prototype,"login",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt.login(a);case 3:n=t.sent,Object(C.h)((function(){e.user=n})),e.rootStore.commonStore.setToken(n.token),e.rootStore.modalStore.closeModal(),tn.push("/activities"),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}}),ae=Object(w.a)(Z.prototype,"register",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt.register(a);case 3:n=t.sent,Object(C.h)((function(){e.user=n})),e.rootStore.commonStore.setToken(n.token),e.rootStore.modalStore.closeModal(),tn.push("/activities"),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}}),ne=Object(w.a)(Z.prototype,"getUser",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(E.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt.current();case 3:a=t.sent,Object(C.h)((function(){e.user=a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}}),re=Object(w.a)(Z.prototype,"logout",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.rootStore.commonStore.setToken(null),e.user=null,tn.push("/")}}}),Z),ut=(ie=function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"token",oe,this),Object(O.a)(this,"appLoaded",ce,this),Object(O.a)(this,"setToken",le,this),Object(O.a)(this,"setAppLoaded",ue,this),this.rootStore=t,Object(C.g)((function(){return a.token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}))},oe=Object(w.a)(ie.prototype,"token",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.localStorage.getItem("jwt")}}),ce=Object(w.a)(ie.prototype,"appLoaded",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Object(w.a)(ie.prototype,"setToken",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){window.localStorage.setItem("jwt",t),e.token=t}}}),ue=Object(w.a)(ie.prototype,"setAppLoaded",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.appLoaded=!0}}}),ie),st=(se=C.f.shallow,me=C.f.shallow,de=function e(t){Object(h.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"size",be,this),Object(O.a)(this,"errorMessage",pe,this),Object(O.a)(this,"submitting",fe,this),Object(O.a)(this,"modal",he,this),Object(O.a)(this,"modalGeneral",ge,this),Object(O.a)(this,"openModal",ve,this),Object(O.a)(this,"closeModal",Ee,this),Object(O.a)(this,"openModalGeneral",ye,this),Object(O.a)(this,"closeModalGeneral",Oe,this),this.rootStore=t},be=Object(w.a)(de.prototype,"size",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Object(w.a)(de.prototype,"errorMessage",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Object(w.a)(de.prototype,"submitting",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=Object(w.a)(de.prototype,"modal",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{open:!1,body:null}}}),ge=Object(w.a)(de.prototype,"modalGeneral",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{open:!1,body:null,header:null,footer:null,formName:null}}}),ve=Object(w.a)(de.prototype,"openModal",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.modal.open=!0,e.size=a,e.modal.body=t}}}),Ee=Object(w.a)(de.prototype,"closeModal",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.modal.open=!1,e.size="small",e.modal.body=null}}}),ye=Object(w.a)(de.prototype,"openModalGeneral",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a,n,r,i){e.modalGeneral.open=!0,e.size=r,e.modalGeneral.header=t,e.modalGeneral.body=a,e.modalGeneral.footer=n,e.modalGeneral.formName=i}}}),Oe=Object(w.a)(de.prototype,"closeModalGeneral",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.modalGeneral.open=!1,e.size="small",e.modalGeneral.header=null,e.modalGeneral.body=null,e.modalGeneral.footer=null,e.modalGeneral.formName=null,e.errorMessage=null}}}),de),mt=a(83),dt=(je=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"profile",we,this),Object(O.a)(this,"loadingProfile",Ce,this),Object(O.a)(this,"uploadingPhoto",Se,this),Object(O.a)(this,"loading",xe,this),Object(O.a)(this,"followings",ke,this),Object(O.a)(this,"activeTab",Pe,this),Object(O.a)(this,"userActivities",ze,this),Object(O.a)(this,"loadingActivities",Ae,this),Object(O.a)(this,"loadUserActivities",Ie,this),Object(O.a)(this,"setActiveTab",Me,this),Object(O.a)(this,"loadProfile",Re,this),Object(O.a)(this,"uploadPhoto",Ge,this),Object(O.a)(this,"setMainPhoto",Te,this),Object(O.a)(this,"deletePhoto",De,this),Object(O.a)(this,"updateProfile",Fe,this),Object(O.a)(this,"follow",Le,this),Object(O.a)(this,"unfollow",Ne,this),Object(O.a)(this,"loadFollowings",He,this),this.rootStore=t,Object(C.g)((function(){return a.activeTab}),(function(e){if(3===e||4===e){var t=3===e?"followers":"following";a.loadFollowings(t)}else a.followings=[]}))}return Object(j.a)(e,[{key:"isCurrentUser",get:function(){return!(!this.rootStore.userStore.user||!this.profile)&&this.rootStore.userStore.user.username===this.profile.username}}]),e}(),we=Object(w.a)(je.prototype,"profile",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=Object(w.a)(je.prototype,"loadingProfile",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Se=Object(w.a)(je.prototype,"uploadingPhoto",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=Object(w.a)(je.prototype,"loading",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ke=Object(w.a)(je.prototype,"followings",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=Object(w.a)(je.prototype,"activeTab",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ze=Object(w.a)(je.prototype,"userActivities",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=Object(w.a)(je.prototype,"loadingActivities",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(w.a)(je.prototype,"isCurrentUser",[C.c],Object.getOwnPropertyDescriptor(je.prototype,"isCurrentUser"),je.prototype),Ie=Object(w.a)(je.prototype,"loadUserActivities",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a,n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingActivities=!0,t.prev=1,t.next=4,at.listActivities(a,n);case 4:r=t.sent,Object(C.h)((function(){e.userActivities=r,e.loadingActivities=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),k.b.error("Problem loading activities"),Object(C.h)((function(){e.loadingActivities=!1}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),Me=Object(w.a)(je.prototype,"setActiveTab",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.activeTab=t}}}),Re=Object(w.a)(je.prototype,"loadProfile",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingProfile=!0,t.prev=1,t.next=4,at.get(a);case 4:n=t.sent,Object(C.h)((function(){e.profile=n,e.loadingProfile=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(C.h)((function(){e.loadingProfile=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Ge=Object(w.a)(je.prototype,"uploadPhoto",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.uploadingPhoto=!0,t.prev=1,t.next=4,at.uploadPhoto(a);case 4:n=t.sent,Object(C.h)((function(){e.profile&&(e.profile.photos.push(n),n.isMain&&e.rootStore.userStore.user&&(e.rootStore.userStore.user.image=n.url,e.profile.image=n.url)),e.uploadingPhoto=!1})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),k.b.error("Problem uploading photo"),Object(C.h)((function(){e.uploadingPhoto=!1}));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Te=Object(w.a)(je.prototype,"setMainPhoto",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,at.setMainPhoto(a.id);case 4:Object(C.h)((function(){e.rootStore.userStore.user.image=a.url,e.profile.photos.find((function(e){return e.isMain})).isMain=!1,e.profile.photos.find((function(e){return e.id===a.id})).isMain=!0,e.profile.image=a.url,e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),k.b.error("Problem setting photo as main"),Object(C.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),De=Object(w.a)(je.prototype,"deletePhoto",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,at.deletePhoto(a.id);case 4:Object(C.h)((function(){e.profile.photos=e.profile.photos.filter((function(e){return e.id!==a.id})),e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),k.b.error("Problem deleting the photo"),Object(C.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),Fe=Object(w.a)(je.prototype,"updateProfile",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.updateProfile(a);case 3:Object(C.h)((function(){a.displayName!==e.rootStore.userStore.user.displayName&&(e.rootStore.userStore.user.displayName=a.displayName),e.profile=Object(mt.a)({},e.profile,{},a)})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),k.b.error("Problem updating profile");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}}),Le=Object(w.a)(je.prototype,"follow",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,at.follow(a);case 4:Object(C.h)((function(){e.profile.following=!0,e.profile.followersCount++,e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),k.b.error("Problem following user"),Object(C.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),Ne=Object(w.a)(je.prototype,"unfollow",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,at.unfollow(a);case 4:Object(C.h)((function(){e.profile.following=!1,e.profile.followersCount--,e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),k.b.error("Problem unfollowing user"),Object(C.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),He=Object(w.a)(je.prototype,"loadFollowings",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,at.listFollowings(e.profile.username,a);case 4:n=t.sent,Object(C.h)((function(){e.followings=n,e.loading=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),k.b.error("Problem loading followings"),Object(C.h)((function(){e.loading=!1}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),je),bt=(Ue=function e(t){Object(h.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"category",Be,this),Object(O.a)(this,"categories",qe,this),Object(O.a)(this,"categoryOptions",Ve,this),Object(O.a)(this,"addingCategory",We,this),Object(O.a)(this,"loadCategories",Je,this),Object(O.a)(this,"addCategory",Ye,this),this.rootStore=t},Be=Object(w.a)(Ue.prototype,"category",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=Object(w.a)(Ue.prototype,"categories",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ve=Object(w.a)(Ue.prototype,"categoryOptions",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=Object(w.a)(Ue.prototype,"addingCategory",[C.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Je=Object(w.a)(Ue.prototype,"loadCategories",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(E.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt.list();case 3:a=t.sent,n=[],r={width:"50px",height:"25px",verticalAlign:"middle"},a.forEach((function(e,t){var a={key:t,text:e.name,value:e.id,image:{style:r,src:e.imageUrl}};n.push(a)})),Object(C.h)((function(){e.categories=a,e.categoryOptions=n})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))}}),Ye=Object(w.a)(Ue.prototype,"addCategory",[C.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.rootStore.modalStore.submitting=!0,t.prev=1,e.rootStore.modalStore.errorMessage=null,!a.file){t.next=10;break}return t.next=6,nt.create(a);case 6:k.b.success("Category added successfully."),Object(C.h)((function(){e.loadCategories(),e.rootStore.modalStore.submitting=!1,e.rootStore.modalStore.closeModalGeneral()})),t.next=12;break;case 10:k.b.warn("\u26a0\ufe0f Upload a category image"),e.rootStore.modalStore.submitting=!1;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),Object(C.h)((function(){e.rootStore.modalStore.errorMessage=t.t0.data.errors.CategoryName,e.rootStore.modalStore.submitting=!1}));case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}}),Ue);Object(C.d)({enforceActions:"always"});var pt=Object(n.createContext)(new function e(){Object(h.a)(this,e),this.activityStore=void 0,this.userStore=void 0,this.commonStore=void 0,this.modalStore=void 0,this.profileStore=void 0,this.categoryStore=void 0,this.activityStore=new ct(this),this.userStore=new lt(this),this.commonStore=new ut(this),this.modalStore=new st(this),this.profileStore=new dt(this),this.categoryStore=new bt(this)}),ft=Object(p.a)((function(){var e=Object(n.useContext)(pt).userStore,t=e.user,a=e.logout;return r.a.createElement(s.a,{fixed:"top",inverted:!0},r.a.createElement(u.a,null,r.a.createElement(s.a.Item,{header:!0,as:f.b,exact:!0,to:"/"},r.a.createElement("img",{src:"/assets/logo.png",alt:"logo",style:{marginRight:"10px"}}),"Reactivities"),r.a.createElement(s.a.Item,{name:"Activities",as:f.b,to:"/activities"}),r.a.createElement(s.a.Item,null,r.a.createElement(m.a,{as:f.b,to:"/createActivity",positive:!0,content:"Create Activity"})),t&&r.a.createElement(s.a.Item,{position:"right"},r.a.createElement(d.a,{avatar:!0,spaced:"right",src:t.image||"/assets/user.png"}),r.a.createElement(b.a,{pointing:"top left",text:t.displayName},r.a.createElement(b.a.Menu,null,r.a.createElement(b.a.Item,{as:f.a,to:"/profile/".concat(t.username),text:"My profile",icon:"user"}),r.a.createElement(b.a.Item,{onClick:a,text:"Logout",icon:"power"}))))))})),ht=a(40),gt=a(391),vt=a(714),Et=a(191),yt=a(722),Ot=a(241),jt=a(90),wt=a(717),Ct=a(723),St=a(721),xt={borderColor:"orange",borderWidth:2},kt=function(e){var t=e.attendees;return r.a.createElement(Ct.a,{horizontal:!0},t.map((function(e){return r.a.createElement(Ct.a.Item,{key:e.username},r.a.createElement(St.a,{header:e.displayName,trigger:r.a.createElement(d.a,{size:"mini",circular:!0,src:e.image||"assets/user.png",bordered:!0,style:e.following?xt:null,as:f.a,to:"/profile/".concat(e.username)})}))})))},Pt=function(e){var t=e.activity,a=t.attendees.filter((function(e){return e.isHost}))[0];return r.a.createElement(Ot.a.Group,null,r.a.createElement(Ot.a,null,r.a.createElement(yt.a.Group,null,r.a.createElement(yt.a,null,r.a.createElement(yt.a.Image,{size:"tiny",circular:!0,src:a.image||"/assets/user.png",style:{marginBottom:3}}),r.a.createElement(yt.a.Content,null,r.a.createElement(yt.a.Header,{as:f.a,to:"/activities/".concat(t.id)},t.title),r.a.createElement(yt.a.Description,null,"Hosted By",r.a.createElement(f.a,{to:"/profile/".concat(a.username)}," ",a.displayName)),t.isHost&&r.a.createElement(yt.a.Description,null,r.a.createElement(Et.a,{basic:!0,color:"orange",content:"You are hosting this activity"})),t.isGoing&&!t.isHost&&r.a.createElement(yt.a.Description,null,r.a.createElement(Et.a,{basic:!0,color:"green",content:"You are going to this activity"})))))),r.a.createElement(Ot.a,null,r.a.createElement(jt.a,{name:"clock"}),Object(wt.a)(t.date,"h:mm a"),r.a.createElement(jt.a,{name:"marker"}),t.venue,",",t.city),r.a.createElement(Ot.a,{secondary:!0},r.a.createElement(kt,{attendees:t.attendees})),r.a.createElement(Ot.a,{clearing:!0},r.a.createElement("span",null,t.description),r.a.createElement("br",null),r.a.createElement(m.a,{as:f.a,to:"/activities/".concat(t.id),floated:"right",content:"View",color:"blue",style:{marginTop:5}})))},zt=Object(p.a)((function(){var e=Object(n.useContext)(pt).activityStore.activitiesByDate;return r.a.createElement(n.Fragment,null,e.map((function(e){var t=Object(ht.a)(e,2),a=t[0],i=t[1];return r.a.createElement(n.Fragment,{key:a},r.a.createElement(Et.a,{size:"large",color:"blue"},Object(wt.a)(a,"eeee do MMMM")),r.a.createElement(yt.a.Group,{divided:!0},i.map((function(e){return r.a.createElement(Pt,{key:e.id,activity:e})}))))})))})),At=a(373),It=a.n(At),Mt=a(732),Rt=a(189),Gt=Object(p.a)((function(){var e=Object(n.useContext)(pt).activityStore,t=e.predicate,a=e.setPredicate;return r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{vertical:!0,size:"large",style:{width:"100%",marginTop:50}},r.a.createElement(Mt.a,{icon:"filter",attached:!0,color:"teal",content:"Filters"}),r.a.createElement(s.a.Item,{active:0===t.size,onClick:function(){return a("all","true")},color:"blue",name:"all",content:"All Activities"}),r.a.createElement(s.a.Item,{active:t.has("isGoing"),onClick:function(){return a("isGoing","true")},color:"blue",name:"username",content:"I'm Going"}),r.a.createElement(s.a.Item,{active:t.has("isHost"),onClick:function(){return a("isHost","true")},color:"blue",name:"host",content:"I'm hosting"})),r.a.createElement(Mt.a,{icon:"calendar",attached:!0,color:"teal",content:"Select Date"}),r.a.createElement(Rt.Calendar,{onChange:function(e){return a("startDate",e)},value:t.get("startDate")||new Date}))})),Tt=a(726),Dt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Tt.a,{fluid:!0,style:{marginTop:50}},r.a.createElement(Ot.a.Group,null,r.a.createElement(Ot.a,{style:{minHeight:110}},r.a.createElement(Tt.a,null,r.a.createElement(Tt.a.Header,{image:!0},r.a.createElement(Tt.a.Line,null),r.a.createElement(Tt.a.Line,null)),r.a.createElement(Tt.a.Paragraph,null,r.a.createElement(Tt.a.Line,null)))),r.a.createElement(Ot.a,null,r.a.createElement(Tt.a,null,r.a.createElement(Tt.a.Line,null),r.a.createElement(Tt.a.Line,null))),r.a.createElement(Ot.a,{secondary:!0,style:{minHeight:70}}),r.a.createElement(Ot.a,{clearing:!0},r.a.createElement(m.a,{disabled:!0,color:"blue",floated:"right",content:"View"})))))},Ft=Object(p.a)((function(){var e=Object(n.useContext)(pt).activityStore,t=e.loadActivities,a=e.loadingInitial,i=e.setPage,o=e.page,c=e.totalPages,l=Object(n.useState)(!1),u=Object(ht.a)(l,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:10},a&&0===o?r.a.createElement(Dt,null):r.a.createElement(It.a,{pageStart:0,loadMore:function(){m(!0),i(o+1),t().then((function(){return m(!1)}))},hasMore:!s&&o+1<c,initialLoad:!1},r.a.createElement(zt,null))),r.a.createElement(gt.a.Column,{width:6},r.a.createElement(Gt,null)),r.a.createElement(gt.a.Column,{width:10},r.a.createElement(vt.a,{active:s})))})),Lt=a(84),Nt=a(27),Ht=a(718),Ut=function(e){var t=e.input,a=e.width,n=e.type,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return r.a.createElement(Ht.a.Field,{error:c&&!!l,type:n,width:a},r.a.createElement("input",Object.assign({},t,{placeholder:i})),c&&l&&r.a.createElement(Et.a,{basic:!0,color:"red"},l))},Bt=a(64),qt=a(31),Vt=a(727),Wt=function(e){var t=e.error,a=e.text;return r.a.createElement(Vt.a,{error:!0},r.a.createElement(Vt.a.Header,null,t.statusText),t.data&&Object.keys(t.data.errors).length>0&&r.a.createElement(Vt.a.List,null,Object.values(t.data.errors).flat().map((function(e,t){return r.a.createElement(Vt.a.Item,{key:t},e)}))),a&&r.a.createElement(Vt.a.Content,{content:a}))},Jt=Object(qt.combineValidators)({email:Object(qt.isRequired)("email"),password:Object(qt.isRequired)("password")}),Yt=function(){var e=Object(n.useContext)(pt).userStore.login;return r.a.createElement(Nt.b,{onSubmit:function(t){return e(t).catch((function(e){return Object(Lt.a)({},Bt.a,e)}))},validate:Jt,render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitError,i=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(Ht.a,{onSubmit:t},r.a.createElement(Mt.a,{as:"h2",content:"Login to Reactivities",color:"teal",textAlign:"center"}),r.a.createElement(Nt.a,{name:"email",component:Ut,placeholder:"Email"}),r.a.createElement(Nt.a,{name:"password",component:Ut,type:"password",placeholder:"Password"}),n&&!c&&r.a.createElement(Wt,{error:n,text:"Invalid email or password"}),r.a.createElement(m.a,{disabled:i&&!c||o,loading:a,content:"LogIn",color:"teal",fluid:!0}))}})},_t=Object(qt.combineValidators)({username:Object(qt.isRequired)("Username"),displayName:Object(qt.isRequired)("DisplayName"),email:Object(qt.isRequired)("Email"),password:Object(qt.isRequired)("Password")}),Kt=function(){var e=Object(n.useContext)(pt).userStore.register;return r.a.createElement(Nt.b,{onSubmit:function(t){return e(t).catch((function(e){return Object(Lt.a)({},Bt.a,e)}))},validate:_t,render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitError,i=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(Ht.a,{onSubmit:t,error:!0},r.a.createElement(Mt.a,{as:"h2",content:"Sign up to Reactivities",color:"teal",textAlign:"center"}),r.a.createElement(Nt.a,{name:"username",component:Ut,placeholder:"Username"}),r.a.createElement(Nt.a,{name:"displayName",component:Ut,placeholder:"Display Name"}),r.a.createElement(Nt.a,{name:"email",component:Ut,placeholder:"Email"}),r.a.createElement(Nt.a,{name:"password",component:Ut,placeholder:"Password",type:"password"}),n&&!c&&r.a.createElement(Wt,{error:n}),r.a.createElement(m.a,{disabled:i&&!c||o,loading:a,color:"teal",content:"Register",fluid:!0}))}})},$t=function(){var e=window.localStorage.getItem("jwt"),t=Object(n.useContext)(pt),a=t.userStore,i=a.isLoggedIn,o=a.user,c=t.modalStore.openModal;return r.a.createElement(Ot.a,{inverted:!0,textAlign:"center",vertical:!0,className:"masthead"},r.a.createElement(u.a,{text:!0},r.a.createElement(Mt.a,{as:"h1",inverted:!0},r.a.createElement(d.a,{size:"massive",src:"/assets/logo.png",alt:"logo",style:{marginBottom:12}}),"Reactivities"),i&&o&&e?r.a.createElement(n.Fragment,null,r.a.createElement(Mt.a,{as:"h2",inverted:!0,content:"Welcome back ".concat(o.displayName)}),r.a.createElement(m.a,{as:f.a,to:"/activities",size:"huge",inverted:!0},"Go to activities")):r.a.createElement(n.Fragment,null,r.a.createElement(Mt.a,{as:"h2",inverted:!0,content:"Welcome to Reactivities"}),r.a.createElement(m.a,{onClick:function(){return c(r.a.createElement(Yt,null),"mini")},size:"huge",inverted:!0},"Login"),r.a.createElement(m.a,{onClick:function(){return c(r.a.createElement(Kt,null),"mini")},size:"huge",inverted:!0},"Register"))))},Qt=a(123),Xt=function e(t){Object(h.a)(this,e),this.id=void 0,this.title="",this.category=void 0,this.description="",this.date=void 0,this.time=void 0,this.city="",this.venue="",t&&t.date&&(t.time=t.date),Object.assign(this,t)},Zt=a(375),ea=function(e){var t=e.input,a=e.width,n=e.rows,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return r.a.createElement(Ht.a.Field,{error:c&&!!l,width:a},r.a.createElement("textarea",Object.assign({rows:n},t,{placeholder:i})),c&&l&&r.a.createElement(Et.a,{basic:!0,color:"red"},l))},ta=a(715),aa=function(e){var t=e.input,a=e.width,n=e.options,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return r.a.createElement(Ht.a.Field,{error:c&&!!l,width:a},r.a.createElement(ta.a,{value:t.value,onChange:function(e,a){return t.onChange(a.value)},placeholder:i,options:n}),c&&l&&r.a.createElement(Et.a,{basic:!0,color:"red"},l))},na=function(e){var t=e.input,a=e.width,n=e.placeholder,i=e.date,o=void 0!==i&&i,c=e.time,l=void 0!==c&&c,u=e.meta,s=u.touched,m=u.error,d=Object(Qt.a)(e,["input","width","placeholder","date","time","meta"]);return r.a.createElement(Ht.a.Field,{error:s&&!!m,width:a},r.a.createElement(Rt.DateTimePicker,Object.assign({placeholder:n,value:t.value||null,onChange:t.onChange,onBlur:t.onBlur,onKeyDown:function(e){return e.preventDefault()},date:o,time:l},d)),s&&m&&r.a.createElement(Et.a,{basic:!0,color:"red"},m))},ra=function e(){Object(h.a)(this,e),this.name=""},ia=a(387),oa={border:"dashed 3px",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",textAlign:"center",height:"200px"},ca={borderColor:"green"},la=function(e){var t=e.setFiles,a=Object(n.useCallback)((function(e){t(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[t]),i=Object(ia.a)({onDrop:a}),o=i.getRootProps,c=i.getInputProps,l=i.isDragActive;return r.a.createElement("div",Object.assign({},o(),{style:l?Object(mt.a)({},oa,{},ca):oa}),r.a.createElement("input",c()),r.a.createElement(jt.a,{name:"upload",size:"huge"}),r.a.createElement(Mt.a,{content:"Drop image here"}))},ua=Object(qt.combineValidators)({name:Object(qt.isRequired)("name")}),sa={border:"dashed 3px",borderColor:"#eee",borderRadius:"5px",textAlign:"center",height:"200px"},ma={paddingTop:"30px"},da=Object(p.a)((function(){var e=Object(n.useContext)(pt).categoryStore.addCategory,t=Object(n.useState)([]),a=Object(ht.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(new ra),l=Object(ht.a)(c,1)[0],u=function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.file=i[0],a.model=l,a.model.name=a.name,e(a).catch((function(e){return Object(Lt.a)({},Bt.a,e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(Nt.b,{onSubmit:u,validate:ua,render:function(e){var t=e.handleSubmit;return r.a.createElement(Ht.a,{id:"categoryForm",onSubmit:t},r.a.createElement(Nt.a,{name:"name",component:Ut,placeholder:"Category Name"}),r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:6},r.a.createElement(la,{setFiles:o})),r.a.createElement(gt.a.Column,{width:10},i.length>0?r.a.createElement(d.a,{style:sa,src:i[0].preview,fluid:!0,name:"file"}):r.a.createElement("div",{style:Object(mt.a)({},sa,{},ma)},r.a.createElement(jt.a,{name:"image",size:"huge"}),r.a.createElement(Mt.a,{content:"Preview Area"})))))}})})),ba=Object(qt.combineValidators)({title:Object(qt.isRequired)({message:"The event title is required"}),category:Object(qt.isRequired)("Category"),description:Object(qt.composeValidators)(Object(qt.isRequired)("Description"),Object(qt.hasLengthGreaterThan)(4)({message:"Description needs to be at least 5 characters"}))(),city:Object(qt.isRequired)("City"),venue:Object(qt.isRequired)("Venue"),date:Object(qt.isRequired)("Date"),time:Object(qt.isRequired)("Time")}),pa=Object(p.a)((function(e){var t=e.match,a=e.history,i=Object(n.useContext)(pt),o=i.activityStore,c=o.createActivity,l=o.editActivity,u=o.submitting,s=o.loadActivity,d=i.categoryStore,b=d.categoryOptions,p=d.loadCategories,f=d.categories,h=i.modalStore.openModalGeneral,g=Object(n.useState)(new Xt),v=Object(ht.a)(g,2),E=v[0],y=v[1],O=Object(n.useState)(!1),j=Object(ht.a)(O,2),w=j[0],C=j[1];Object(n.useEffect)((function(){t.params.id&&(C(!0),s(t.params.id).then((function(e){y(new Xt(e))})).finally((function(){return C(!1)}))),p()}),[s,t.params.id,p]);return r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:10},r.a.createElement(Ot.a,{clearing:!0},r.a.createElement(Nt.b,{validate:ba,initialValues:E,onSubmit:function(e){var t=function(e,t){var a=e.toISOString().split("T")[0],n=t.toISOString().split("T")[1];return new Date(a+"T"+n)}(e.date,e.time),a=(e.date,e.time,Object(Qt.a)(e,["date","time"]));a.date=t;var n=f.filter((function(t){return t.id===e.category.id}))[0];if(a.category=n,a.id)l(a);else{var r=Object(mt.a)({},a,{id:Object(Zt.v4)()});c(r)}},render:function(e){var t=e.handleSubmit,n=e.invalid,i=e.pristine;return r.a.createElement(Ht.a,{onSubmit:t,loading:w},r.a.createElement(Nt.a,{name:"title",placeholder:"Title",value:E.title,component:Ut}),r.a.createElement(Nt.a,{name:"description",placeholder:"Description",rows:3,value:E.description,component:ea}),r.a.createElement(Ht.a.Group,{widths:"equal"},r.a.createElement(Nt.a,{component:aa,name:"category.id",placeholder:"Category",options:b}),r.a.createElement(m.a,{icon:"add",type:"button",float:"left",compact:!0,onClick:function(){return h("Add Category",r.a.createElement(da,null),null,"small","categoryForm")}})),r.a.createElement(Ht.a.Group,{widths:"equal"},r.a.createElement(Nt.a,{component:na,name:"date",date:!0,placeholder:"Date",value:E.date}),r.a.createElement(Nt.a,{component:na,name:"time",time:!0,placeholder:"Time",value:E.time})),r.a.createElement(Nt.a,{component:Ut,name:"city",placeholder:"City",value:E.city}),r.a.createElement(Nt.a,{component:Ut,name:"venue",placeholder:"Venue",value:E.venue}),r.a.createElement(m.a,{loading:u,disabled:w||n||i,floated:"right",positive:!0,type:"submit",content:"Submit"}),r.a.createElement(m.a,{onClick:E.id?function(){return a.push("/activities/".concat(E.id))}:function(){return a.push("/activities")},disabled:w,floated:"right",type:"button",content:"Cancel"}))}}))))})),fa=a(730),ha=function(e){var t=e.inverted,a=void 0===t||t,n=e.content;return r.a.createElement(fa.a,{active:!0,inverted:a},r.a.createElement(vt.a,{content:n}))},ga={filter:"brightness(30%)"},va={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"},Ea=Object(p.a)((function(e){var t=e.activity,a=Object(n.useContext)(pt).activityStore,i=a.attendActivity,o=a.cancelAttendance,c=a.loading,l=t.attendees.filter((function(e){return e.isHost}))[0];return r.a.createElement(Ot.a.Group,null,r.a.createElement(Ot.a,{basic:!0,attached:"top",style:{padding:"0"}},r.a.createElement(d.a,{src:t.category.imageUrl,fluid:!0,style:ga}),r.a.createElement(Ot.a,{basic:!0,style:va},r.a.createElement(yt.a.Group,null,r.a.createElement(yt.a,null,r.a.createElement(yt.a.Content,null,r.a.createElement(Mt.a,{size:"huge",content:t.title,style:{color:"white"}}),r.a.createElement("p",null,Object(wt.a)(t.date,"eeee do MMMM")),r.a.createElement("p",null,"Hosted by",r.a.createElement("strong",null," ",r.a.createElement(f.a,{to:"/profile/".concat(l.username)},l.displayName)))))))),r.a.createElement(Ot.a,{clearing:!0,attached:"bottom"},t.isHost?r.a.createElement(m.a,{as:f.a,to:"/manage/".concat(t.id),color:"orange",floated:"right"},"Manage Event"):t.isGoing?r.a.createElement(m.a,{loading:c,onClick:o},"Cancel attendance"):r.a.createElement(m.a,{loading:c,onClick:i,color:"teal"},"Join Activity")))})),ya=Object(p.a)((function(e){var t=e.activity;return r.a.createElement(Ot.a.Group,null,r.a.createElement(Ot.a,{attached:"top"},r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:1},r.a.createElement(jt.a,{size:"large",color:"teal",name:"info"})),r.a.createElement(gt.a.Column,{width:15},r.a.createElement("p",null,t.description)))),r.a.createElement(Ot.a,{attached:!0},r.a.createElement(gt.a,{verticalAlign:"middle"},r.a.createElement(gt.a.Column,{width:1},r.a.createElement(jt.a,{name:"calendar",size:"large",color:"teal"})),r.a.createElement(gt.a.Column,{width:15},r.a.createElement("span",null,Object(wt.a)(t.date,"eeee do MMMM")," at"," ",Object(wt.a)(t.date,"h:mm a"))))),r.a.createElement(Ot.a,{attached:!0},r.a.createElement(gt.a,{verticalAlign:"middle"},r.a.createElement(gt.a.Column,{width:1},r.a.createElement(jt.a,{name:"marker",size:"large",color:"teal"})),r.a.createElement(gt.a.Column,{width:11},r.a.createElement("span",null,t.venue,", ",t.city)))))})),Oa=a(720),ja=a(724),wa=Object(p.a)((function(){var e=Object(n.useContext)(pt).activityStore,t=e.createHubConnection,a=e.stopHubConnection,i=e.addComment,o=e.activity;return Object(n.useEffect)((function(){return t(),function(){a()}}),[t,a]),r.a.createElement(n.Fragment,null,r.a.createElement(Ot.a,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"}},r.a.createElement(Mt.a,null,"Chat about this event")),r.a.createElement(Ot.a,{attached:!0},r.a.createElement(Oa.a.Group,null,o&&o.comments&&o.comments.map((function(e){return r.a.createElement(Oa.a,{key:e.id},r.a.createElement(Oa.a.Avatar,{src:e.image||"/assets/user.png"}),r.a.createElement(Oa.a.Content,null,r.a.createElement(Oa.a.Author,{as:f.a,to:"/profile/".concat(e.username)},e.displayName),r.a.createElement(Oa.a.Metadata,null,r.a.createElement("div",null,Object(ja.a)(e.createdAt,new Date,{includeSeconds:!0}))),r.a.createElement(Oa.a.Text,null,e.body)))})),r.a.createElement(Nt.b,{onSubmit:i,render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.form;return r.a.createElement(Ht.a,{onSubmit:function(){return t().then((function(){return n.reset()}))}},r.a.createElement(Nt.a,{name:"body",component:ea,rows:2,placeholder:"Add your comment"}),r.a.createElement(m.a,{loading:a,content:"Add Reply",labelPosition:"left",icon:"edit",primary:!0}))}}))))})),Ca=Object(p.a)((function(e){var t=e.attendees;return r.a.createElement(n.Fragment,null,r.a.createElement(Ot.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal"},t.length," ",1===t.length?"Person":"People"," going"),r.a.createElement(Ot.a,{attached:!0},r.a.createElement(Ct.a,{relaxed:!0,divided:!0},t.map((function(e){return r.a.createElement(yt.a,{key:e.username,style:{position:"relative"}},e.isHost&&r.a.createElement(Et.a,{style:{position:"absolute"},color:"orange",ribbon:"right"},"Host"),r.a.createElement(d.a,{size:"tiny",src:e.image||"/assets/user.png"}),r.a.createElement(yt.a.Content,{verticalAlign:"middle"},r.a.createElement(yt.a.Header,{as:"h3"},r.a.createElement(f.a,{to:"/profile/".concat(e.username)},e.displayName)),e.following&&r.a.createElement(yt.a.Extra,{style:{color:"orange"}},"Following")))})))))})),Sa=Object(p.a)((function(e){var t=e.match,a=e.history,i=Object(n.useContext)(pt).activityStore,o=i.activity,c=i.loadActivity,l=i.loadingInitial;return Object(n.useEffect)((function(){c(t.params.id)}),[c,t.params.id,a]),l?r.a.createElement(ha,{content:"Loading activity..."}):o?r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:10},r.a.createElement(Ea,{activity:o}),r.a.createElement(ya,{activity:o}),r.a.createElement(wa,null)),r.a.createElement(gt.a.Column,{width:6},r.a.createElement(Ca,{attendees:o.attendees}))):r.a.createElement("h2",null,"ccxx")})),xa=function(){return r.a.createElement(Ot.a,{placeholder:!0},r.a.createElement(Mt.a,{icon:!0},r.a.createElement(jt.a,{name:"search"}),"Oops - we've looked everywhere but couldn't find this."),r.a.createElement(Ot.a.Inline,null,r.a.createElement(m.a,{as:f.a,to:"/activities",primary:!0},"Return to Activities page")))},ka=a(719),Pa=Object(p.a)((function(){var e=Object(n.useContext)(pt).modalStore,t=e.modal,a=t.open,i=t.body,o=e.closeModal,c=e.size;return r.a.createElement(ka.a,{open:a,onClose:o,size:c},r.a.createElement(ka.a.Content,null,i))})),za=Object(p.a)((function(){var e=Object(n.useContext)(pt).modalStore,t=e.modalGeneral,a=t.open,i=t.body,o=t.header,c=t.formName,l=e.closeModalGeneral,u=e.size,s=e.errorMessage,d=e.submitting;return r.a.createElement(ka.a,{size:u,open:a,onClose:l,closeOnEscape:!1,closeOnDimmerClick:!1},r.a.createElement(ka.a.Header,null,o),r.a.createElement(ka.a.Content,null,i,s&&r.a.createElement(Vt.a,{negative:!0},r.a.createElement(Vt.a.Header,null,s),r.a.createElement("p",null,"Please enter different name."))),r.a.createElement(ka.a.Actions,null,r.a.createElement(m.a,{onClick:function(){return l()},type:"button",content:"Cancel"}),r.a.createElement(m.a,{form:c,content:"Add",primary:!0,type:"submit",loading:d})))})),Aa=a(729),Ia=a(716),Ma=a(734),Ra=Object(p.a)((function(e){var t=e.profile,a=e.isCurrentUser,n=e.loading,i=e.follow,o=e.unfollow;return r.a.createElement(Ot.a,null,r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:12},r.a.createElement(yt.a.Group,null,r.a.createElement(yt.a,null,r.a.createElement(yt.a.Image,{avatar:!0,size:"small",src:t.image||"/assets/user.png"}),r.a.createElement(yt.a.Content,{verticalAlign:"middle"},r.a.createElement(Mt.a,{as:"h1"},t.displayName))))),r.a.createElement(gt.a.Column,{width:4},r.a.createElement(Aa.a.Group,{widths:2},r.a.createElement(Aa.a,{label:"Followers",value:t.followersCount}),r.a.createElement(Aa.a,{label:"Following",value:t.followingCount})),r.a.createElement(Ia.a,null),!a&&r.a.createElement(Ma.a,{animated:"move"},r.a.createElement(Ma.a.Content,{visible:!0,style:{width:"100%"}},r.a.createElement(m.a,{fluid:!0,color:"teal",content:t.following?"Following":"Not following"})),r.a.createElement(Ma.a.Content,{hidden:!0},r.a.createElement(m.a,{loading:n,fluid:!0,basic:!0,color:t.following?"red":"green",content:t.following?"Unfollow":"Follow",onClick:t.following?function(){return o(t.username)}:function(){return i(t.username)}}))))))})),Ga=a(735),Ta=a(725),Da=a(385),Fa=a.n(Da),La=(a(674),function(e){var t=e.setImage,a=e.imagePreview,i=Object(n.useRef)(null);return r.a.createElement(Fa.a,{ref:i,src:a,style:{height:200,width:"100%"},aspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,dragMode:"move",scalable:!0,cropBoxMovable:!0,cropBoxResizable:!0,crop:function(){i.current&&"undefined"===typeof i.current.getCroppedCanvas()||i&&i.current&&i.current.getCroppedCanvas().toBlob((function(e){t(e)}),"image/jpeg")}})}),Na=Object(p.a)((function(e){var t=e.loading,a=e.uploadPhoto,i=Object(n.useState)([]),o=Object(ht.a)(i,2),c=o[0],l=o[1],u=Object(n.useState)(null),s=Object(ht.a)(u,2),d=s[0],b=s[1];return Object(n.useEffect)((function(){return function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}})),r.a.createElement(n.Fragment,null,r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:4},r.a.createElement(Mt.a,{color:"teal",sub:!0,content:"Step 1 - Add Photo"}),r.a.createElement(la,{setFiles:l})),r.a.createElement(gt.a.Column,{width:1}),r.a.createElement(gt.a.Column,{width:4},r.a.createElement(Mt.a,{sub:!0,color:"teal",content:"Step 2 - Resize image"}),c.length>0&&r.a.createElement(La,{setImage:b,imagePreview:c[0].preview})),r.a.createElement(gt.a.Column,{width:1}),r.a.createElement(gt.a.Column,{width:4},r.a.createElement(Mt.a,{sub:!0,color:"teal",content:"Step 3 - Preview & Upload"}),c.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"img-preview",style:{minHeight:"200px",overflow:"hidden"}}),r.a.createElement(m.a.Group,{widths:2},r.a.createElement(m.a,{positive:!0,icon:"check",loading:t,onClick:function(){return a(d)}}),r.a.createElement(m.a,{icon:"close",disabled:t,onClick:function(){return l([])}}))))))})),Ha=Object(p.a)((function(){var e=Object(n.useContext)(pt).profileStore,t=e.profile,a=e.isCurrentUser,i=e.uploadPhoto,o=e.uploadingPhoto,c=e.setMainPhoto,l=e.deletePhoto,u=e.loading,s=Object(n.useState)(!1),b=Object(ht.a)(s,2),p=b[0],f=b[1],h=Object(n.useState)(void 0),g=Object(ht.a)(h,2),v=g[0],E=g[1],y=Object(n.useState)(void 0),O=Object(ht.a)(y,2),j=O[0],w=O[1];return r.a.createElement(Ga.a.Pane,null,r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:16,style:{paddingBottom:0}},r.a.createElement(Mt.a,{floated:"left",icon:"image",content:"Photos"}),a&&r.a.createElement(m.a,{onClick:function(){return f(!p)},floated:"right",basic:!0,content:p?"Cancel":"Add Photo"})),r.a.createElement(gt.a.Column,{width:16},p?r.a.createElement(Na,{uploadPhoto:function(e){i(e).then((function(){return f(!1)}))},loading:o}):r.a.createElement(Ta.a.Group,{itemsPerRow:5},t&&t.photos.map((function(e){return r.a.createElement(Ta.a,{key:e.id},r.a.createElement(d.a,{src:e.url}),a&&r.a.createElement(m.a.Group,{fluid:!0,widths:2},r.a.createElement(m.a,{onClick:function(t){c(e),E(t.currentTarget.name)},name:e.id,disabled:e.isMain,loading:u&&v===e.id,basic:!0,positive:!0,icon:"check"}),r.a.createElement(m.a,{name:e.id,disabled:e.isMain,onClick:function(t){l(e),w(t.currentTarget.name)},loading:u&&j===e.id,basic:!0,negative:!0,icon:"trash"})))}))))))})),Ua=Object(qt.combineValidators)({displayName:Object(qt.isRequired)("displayName")}),Ba=Object(p.a)((function(e){var t=e.updateProfile,a=e.profile;return r.a.createElement(Nt.b,{onSubmit:t,initialValues:a,validate:Ua,render:function(e){var t=e.handleSubmit,n=e.submitting,i=e.invalid,o=e.pristine;return r.a.createElement(Ht.a,{onSubmit:t,error:!0},r.a.createElement(Nt.a,{name:"displayName",placeholder:"Display Name",component:Ut,value:a.displayName}),r.a.createElement(Nt.a,{name:"bio",component:ea,rows:3,placeholder:"Bio",value:a.bio}),r.a.createElement(m.a,{loading:n,floated:"right",disabled:i||o,positive:!0,content:"Update Profile"}))}})})),qa=Object(p.a)((function(){var e=Object(n.useContext)(pt).profileStore,t=e.updateProfile,a=e.profile,i=e.isCurrentUser,o=Object(n.useState)(!1),c=Object(ht.a)(o,2),l=c[0],u=c[1];return r.a.createElement(Ga.a.Pane,null,r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:16},r.a.createElement(Mt.a,{floated:"left",icon:"user",content:"About ".concat(a.displayName)}),i&&r.a.createElement(m.a,{onClick:function(){return u(!l)},floated:"right",basic:!0,content:l?"Cancel":"Edit Profile"})),r.a.createElement(gt.a.Column,{width:16},l?r.a.createElement(Ba,{updateProfile:t,profile:a}):r.a.createElement("span",null,a.bio))))})),Va=function(e){var t=e.profile;return r.a.createElement(Ta.a,{as:f.a,to:"/profile/".concat(t.username)},r.a.createElement(d.a,{src:t.image||"/assets/user.png"}),r.a.createElement(Ta.a.Content,null,r.a.createElement(Ta.a.Header,null,t.displayName)),r.a.createElement(Ta.a.Content,{extra:!0},r.a.createElement("div",null,r.a.createElement(jt.a,{name:"user"}),t.followersCount," Followers")))},Wa=function(){var e=Object(n.useContext)(pt).profileStore,t=e.profile,a=e.followings,i=e.loading,o=e.activeTab;return r.a.createElement(Ga.a.Pane,{loading:i},r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:16},r.a.createElement(Mt.a,{floated:"left",icon:"user",content:3===o?"People following ".concat(t.displayName):"People ".concat(t.displayName," is following")})),r.a.createElement(gt.a.Column,{width:16},r.a.createElement(Ta.a.Group,{itemsPerRow:5},a.map((function(e){return r.a.createElement(Va,{key:e.username,profile:e})}))))))},Ja=[{menuItem:"Future Events",pane:{key:"futureEvents"}},{menuItem:"Past Events",pane:{key:"pastEvents"}},{menuItem:"Hosting",pane:{key:"hosted"}}],Ya=Object(p.a)((function(){var e=Object(n.useContext)(pt).profileStore,t=e.loadUserActivities,a=e.profile,i=e.loadingActivities,o=e.userActivities;Object(n.useEffect)((function(){t(a.username)}),[t,a]);return r.a.createElement(Ga.a.Pane,{loading:i},r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:16},r.a.createElement(Mt.a,{floated:"left",icon:"calendar",content:"Activities"})),r.a.createElement(gt.a.Column,{width:16},r.a.createElement(Ga.a,{panes:Ja,menu:{secondary:!0,pointing:!0},onTabChange:function(e,n){return function(e,n){var r;switch(n.activeIndex){case 1:r="past";break;case 2:r="hosting";break;default:r="future"}t(a.username,r)}(0,n)}}),r.a.createElement("br",null),r.a.createElement(Ta.a.Group,{itemsPerRow:4},o.map((function(e){return r.a.createElement(Ta.a,{as:f.a,to:"/activities/".concat(e.id),key:e.id},r.a.createElement(d.a,{src:e.category,style:{minHeight:100,objectFit:"cover"}}),r.a.createElement(Ta.a.Content,null,r.a.createElement(Ta.a.Header,{textAlign:"center"},e.title),r.a.createElement(Ta.a.Meta,{textAlign:"center"},r.a.createElement("div",null,Object(wt.a)(new Date(e.date),"do LLL")),r.a.createElement("div",null,Object(wt.a)(new Date(e.date),"h:mm a")))))}))))))})),_a=[{menuItem:"About",render:function(){return r.a.createElement(qa,null)}},{menuItem:"Photos",render:function(){return r.a.createElement(Ha,null)}},{menuItem:"Activities",render:function(){return r.a.createElement(Ya,null)}},{menuItem:"Followers",render:function(){return r.a.createElement(Wa,null)}},{menuItem:"Following",render:function(){return r.a.createElement(Wa,null)}}],Ka=function(e){var t=e.setActiveTab;return r.a.createElement(Ga.a,{menu:{fluid:!0,vertical:!0},menuPosition:"right",panes:_a,onTabChange:function(e,a){return t(a.activeIndex)}})},$a=Object(p.a)((function(e){var t=e.match,a=Object(n.useContext)(pt).profileStore,i=a.loadingProfile,o=a.profile,c=a.loadProfile,l=a.follow,u=a.unfollow,s=a.isCurrentUser,m=a.loading,d=a.setActiveTab;return Object(n.useEffect)((function(){c(t.params.username)}),[c,t]),i?r.a.createElement(ha,{content:"Loading profile..."}):r.a.createElement(gt.a,null,r.a.createElement(gt.a.Column,{width:16},r.a.createElement(Ra,{profile:o,isCurrentUser:s,follow:l,unfollow:u,loading:m}),r.a.createElement(Ka,{setActiveTab:d})))})),Qa=Object(p.a)((function(e){var t=e.component,a=Object(Qt.a)(e,["component"]),i=Object(n.useContext)(pt).userStore.isLoggedIn;return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return i?r.a.createElement(t,e):r.a.createElement(c.a,{to:"/"})}}))})),Xa=Object(c.g)(Object(p.a)((function(e){var t=e.location,a=Object(n.useContext)(pt),i=a.commonStore,o=i.setAppLoaded,l=i.token,s=i.appLoaded,m=a.userStore.getUser;return Object(n.useEffect)((function(){l?m().finally((function(){return o()})):o()}),[m,o,l]),s?r.a.createElement(n.Fragment,null,r.a.createElement(Pa,null),r.a.createElement(za,null),r.a.createElement(k.a,{position:"bottom-right"}),r.a.createElement(c.b,{exact:!0,path:"/",component:$t}),r.a.createElement(c.b,{path:"/(.+)",render:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ft,null),r.a.createElement(u.a,{style:{marginTop:"7em"}},r.a.createElement(c.d,null,r.a.createElement(Qa,{exact:!0,path:"/activities",component:Ft}),r.a.createElement(Qa,{path:"/activities/:id",component:Sa}),r.a.createElement(Qa,{key:t.key,path:["/createActivity","/manage/:id"],component:pa}),r.a.createElement(Qa,{path:"/profile/:username",component:$a}),r.a.createElement(c.b,{component:xa}))))}})):r.a.createElement(ha,{content:"Loading app..."})})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Za=Object(c.g)((function(e){var t=e.children,a=e.location.pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[a]),t})),en=a(386);a.n(en)()();var tn=Object(l.a)();o.a.render(r.a.createElement(c.c,{history:tn},r.a.createElement(Za,null,r.a.createElement(Xa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[399,1,2]]]);
//# sourceMappingURL=main.62ab14df.chunk.js.map